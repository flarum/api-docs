<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8" />
    <meta name="robots" content="index, follow, all" />
    <title>Flarum\Notification\NotificationSyncer | Flarum API</title>

            <link rel="stylesheet" type="text/css" href="../../assets/app.min.css">
        <script src="../../assets/app.min.js"></script>
        <script src="../../sami.js"></script>
        <meta name="MobileOptimized" content="width">
        <meta name="HandheldFriendly" content="true">
        <meta name="viewport" content="width=device-width,initial-scale=1,maximum-scale=1">
    
    
    </head>

    <body id="class" data-name="class:Flarum_Notification_NotificationSyncer" data-root-path="../../">
            <div id="content">
            <nav id="flarum-header" class="navbar navbar-expand-lg">
        <h1 class="flarum-title navbar-brand"></h1>

        
        <div class="collapse navbar-collapse">
            <ul class="navbar-nav mr-auto mt-2 mt-lg-0">
                <li class="nav-item"><a class="nav-link" href="https://flarum.org">Flarum</a></li>
                <li class="nav-item"><a class="nav-link" href="https://discuss.flarum.org">Forum</a></li>
                <li class="nav-item active"><a class="nav-link" href="../..//">PHP</a></li>
                <li class="nav-item"><a class="nav-link" href="/js">JS</a></li>
                <li class="nav-item"><a class="nav-link icon icon-github-circled" target="_blank" href="https://github.com/flarum/core"></a></li>
            </ul>
        </div>
    </nav>

        <div>
            <div id="left-column">
                    <div id="control-panel">
                    <form action="#" method="GET">
                <select id="version-switcher" class="form-control" name="version">
                                            <option value="../../../v0.1.0-beta" data-version="v0.1.0-beta">v0.1.0-beta</option>
                                            <option value="../../../v0.1.0-beta.2" data-version="v0.1.0-beta.2">v0.1.0-beta.2</option>
                                            <option value="../../../v0.1.0-beta.3" data-version="v0.1.0-beta.3">v0.1.0-beta.3</option>
                                            <option value="../../../v0.1.0-beta.4" data-version="v0.1.0-beta.4">v0.1.0-beta.4</option>
                                            <option value="../../../v0.1.0-beta.5" data-version="v0.1.0-beta.5">v0.1.0-beta.5</option>
                                            <option value="../../../v0.1.0-beta.6" data-version="v0.1.0-beta.6">v0.1.0-beta.6</option>
                                            <option value="../../../v0.1.0-beta.7" data-version="v0.1.0-beta.7">v0.1.0-beta.7</option>
                                            <option value="../../../v0.1.0-beta.8" data-version="v0.1.0-beta.8">v0.1.0-beta.8</option>
                                            <option value="../../../v0.1.0-beta.9" data-version="v0.1.0-beta.9">v0.1.0-beta.9</option>
                                            <option value="../../../v0.1.0-beta.10" data-version="v0.1.0-beta.10">v0.1.0-beta.10</option>
                                            <option value="../../../v0.1.0-beta.11" data-version="v0.1.0-beta.11">v0.1.0-beta.11</option>
                                            <option value="../../../v0.1.0-beta.12" data-version="v0.1.0-beta.12">v0.1.0-beta.12</option>
                                            <option value="../../../v0.1.0-beta.13" data-version="v0.1.0-beta.13">v0.1.0-beta.13</option>
                                            <option value="../../../v0.1.0-beta.14" data-version="v0.1.0-beta.14">v0.1.0-beta.14</option>
                                            <option value="../../../v0.1.0-beta.15" data-version="v0.1.0-beta.15">v0.1.0-beta.15</option>
                                            <option value="../../../master" data-version="master">master</option>
                                    </select>
            </form>
                <script>
            $('option[data-version="'+window.projectVersion+'"]').prop('selected', true);
        </script>
        <form id="search-form" action="../../search.html" method="GET">
            <span class="icon icon-search"></span>
            <input name="search" class="typeahead form-control" type="search" placeholder="Search">
        </form>
    </div>

                    <div id="api-tree"></div>

            </div>
            <div id="right-column">
                    <nav id="site-nav" class="navbar navbar-expand" role="navigation">
        <ul class="navbar-nav mr-auto">
            <li class="nav-item"><a class="nav-link" href="../../classes.html">Classes</a></li>

                        <li class="nav-item"><a class="nav-link" href="../../namespaces.html">Namespaces</a></li>
                        <li class="nav-item"><a class="nav-link" href="../../interfaces.html">Interfaces</a></li>
            <li class="nav-item"><a class="nav-link" href="../../traits.html">Traits</a></li>
            <li class="nav-item"><a class="nav-link" href="../../doc-index.html">Index</a></li>
            <li class="nav-item"><a class="nav-link" href="../../search.html">Search</a></li>
        </ul>
    </nav>

                <div id="page-content">
                    
    <div class="page-header">
        <h1>
            NotificationSyncer
                
            &nbsp;
                <a href="https://github.com/flarum/core/blob/v0.1.0-beta.15/src/Notification/NotificationSyncer.php" target="_blank">
        <img src="../../assets/img/code.svg" height="30" />
    </a>

        </h1>
    </div>

    <p>    class        
    <strong>NotificationSyncer</strong></p>

        
    

            <div class="description">
            <p>The Notification Syncer commits notification blueprints to the database, and
sends them via email depending on user preference. Where a blueprint
represents a single notification, the syncer associates it with a particular
user(s) and makes it available in their inbox.</p>                                </div>
    
    
    
            <h2>Properties</h2>

            <table class="table table-condensed">
                    <tr>
                <td class="type" id="property_onePerUser">
                    static                    protected                                        bool
                </td>
                <td>$onePerUser</td>
                <td class="last">Whether or not notifications are being limited to one per user.</td>
                <td></td>
                <td width="24px">    <a href="https://github.com/flarum/core/blob/v0.1.0-beta.15/src/Notification/NotificationSyncer.php#L30" target="_blank">
        <img src="../../assets/img/code.svg" height="18" />
    </a>
</td>
            </tr>
                    <tr>
                <td class="type" id="property_sentTo">
                    static                    protected                                        int[]
                </td>
                <td>$sentTo</td>
                <td class="last">An internal list of user IDs that notifications have been sent to.</td>
                <td></td>
                <td width="24px">    <a href="https://github.com/flarum/core/blob/v0.1.0-beta.15/src/Notification/NotificationSyncer.php#L37" target="_blank">
        <img src="../../assets/img/code.svg" height="18" />
    </a>
</td>
            </tr>
                    <tr>
                <td class="type" id="property_notificationDrivers">
                    static                    protected                                        NotificationDriverInterface[]
                </td>
                <td>$notificationDrivers</td>
                <td class="last">A map of notification drivers.</td>
                <td></td>
                <td width="24px">    <a href="https://github.com/flarum/core/blob/v0.1.0-beta.15/src/Notification/NotificationSyncer.php#L44" target="_blank">
        <img src="../../assets/img/code.svg" height="18" />
    </a>
</td>
            </tr>
            </table>

    
            <h2>Methods</h2>

            <div class="container-fluid underlined">
                    <div class="row">
                <div class="col-md-2 type">
                    void
                </div>
                <div class="col-md-6 type">
                    <a href="#method_sync">sync</a>(<a href="../../Flarum/Notification/Blueprint/BlueprintInterface.html"><abbr title="Flarum\Notification\Blueprint\BlueprintInterface">BlueprintInterface</abbr></a> $blueprint, array $users)
        
                                            <p>Sync a notification so that it is visible to the specified users, and not
visible to anyone else. If it is being made visible for the first time,
attempt to send the user an email.</p>                </div>
                <div class="col-md-2"></div>
                <div class="col-md-2 text-right" style="padding-right: 5px;">
                        <a href="https://github.com/flarum/core/blob/v0.1.0-beta.15/src/Notification/NotificationSyncer.php#L55" target="_blank">
        <img src="../../assets/img/code.svg" height="18" />
    </a>

                </div>
            </div>
                    <div class="row">
                <div class="col-md-2 type">
                    void
                </div>
                <div class="col-md-6 type">
                    <a href="#method_delete">delete</a>(<a href="../../Flarum/Notification/Blueprint/BlueprintInterface.html"><abbr title="Flarum\Notification\Blueprint\BlueprintInterface">BlueprintInterface</abbr></a> $blueprint)
        
                                            <p>Delete a notification for all users.</p>                </div>
                <div class="col-md-2"></div>
                <div class="col-md-2 text-right" style="padding-right: 5px;">
                        <a href="https://github.com/flarum/core/blob/v0.1.0-beta.15/src/Notification/NotificationSyncer.php#L117" target="_blank">
        <img src="../../assets/img/code.svg" height="18" />
    </a>

                </div>
            </div>
                    <div class="row">
                <div class="col-md-2 type">
                    void
                </div>
                <div class="col-md-6 type">
                    <a href="#method_restore">restore</a>(<a href="../../Flarum/Notification/Blueprint/BlueprintInterface.html"><abbr title="Flarum\Notification\Blueprint\BlueprintInterface">BlueprintInterface</abbr></a> $blueprint)
        
                                            <p>Restore a notification for all users.</p>                </div>
                <div class="col-md-2"></div>
                <div class="col-md-2 text-right" style="padding-right: 5px;">
                        <a href="https://github.com/flarum/core/blob/v0.1.0-beta.15/src/Notification/NotificationSyncer.php#L128" target="_blank">
        <img src="../../assets/img/code.svg" height="18" />
    </a>

                </div>
            </div>
                    <div class="row">
                <div class="col-md-2 type">
                    void
                </div>
                <div class="col-md-6 type">
                    <a href="#method_onePerUser">onePerUser</a>(callable $callback)
        
                                            <p>Limit notifications to one per user for the entire duration of the given
callback.</p>                </div>
                <div class="col-md-2"></div>
                <div class="col-md-2 text-right" style="padding-right: 5px;">
                        <a href="https://github.com/flarum/core/blob/v0.1.0-beta.15/src/Notification/NotificationSyncer.php#L140" target="_blank">
        <img src="../../assets/img/code.svg" height="18" />
    </a>

                </div>
            </div>
                    <div class="row">
                <div class="col-md-2 type">
                    
                </div>
                <div class="col-md-6 type">
                    <a href="#method_setDeleted">setDeleted</a>(array $ids, bool $isDeleted)
        
                                            <p>Set the deleted status of a list of notification records.</p>                </div>
                <div class="col-md-2"></div>
                <div class="col-md-2 text-right" style="padding-right: 5px;">
                        <a href="https://github.com/flarum/core/blob/v0.1.0-beta.15/src/Notification/NotificationSyncer.php#L156" target="_blank">
        <img src="../../assets/img/code.svg" height="18" />
    </a>

                </div>
            </div>
                    <div class="row">
                <div class="col-md-2 type">
                    static&nbsp;
                </div>
                <div class="col-md-6 type">
                    <a href="#method_addNotificationDriver">addNotificationDriver</a>(string $driverName, <a href="../../Flarum/Notification/Driver/NotificationDriverInterface.html"><abbr title="Flarum\Notification\Driver\NotificationDriverInterface">NotificationDriverInterface</abbr></a> $driver)
        
                                            <p>Adds a notification driver to the list.</p>                </div>
                <div class="col-md-2"></div>
                <div class="col-md-2 text-right" style="padding-right: 5px;">
                        <a href="https://github.com/flarum/core/blob/v0.1.0-beta.15/src/Notification/NotificationSyncer.php#L167" target="_blank">
        <img src="../../assets/img/code.svg" height="18" />
    </a>

                </div>
            </div>
                    <div class="row">
                <div class="col-md-2 type">
                    static&nbsp;array
                </div>
                <div class="col-md-6 type">
                    <a href="#method_getNotificationDrivers">getNotificationDrivers</a>()
        
                                            <p class="no-description">No description</p>
                                    </div>
                <div class="col-md-2"></div>
                <div class="col-md-2 text-right" style="padding-right: 5px;">
                        <a href="https://github.com/flarum/core/blob/v0.1.0-beta.15/src/Notification/NotificationSyncer.php#L175" target="_blank">
        <img src="../../assets/img/code.svg" height="18" />
    </a>

                </div>
            </div>
            </div>


        <h2>Details</h2>

            <div id="method-details">
                    <div class="method-item">
                    <h3 id="method_sync">
        <div class="location">
                        at         <a href="https://github.com/flarum/core/blob/v0.1.0-beta.15/src/Notification/NotificationSyncer.php#L55" target="_blank">
            line 55
        </a>
        </div>
        <code>                    void
    <strong>sync</strong>(<a href="../../Flarum/Notification/Blueprint/BlueprintInterface.html"><abbr title="Flarum\Notification\Blueprint\BlueprintInterface">BlueprintInterface</abbr></a> $blueprint, array $users)
        </code>
    </h3>
    <div class="details">
            
    

                    <div class="method-description">
                                    <p>Sync a notification so that it is visible to the specified users, and not
visible to anyone else. If it is being made visible for the first time,
attempt to send the user an email.</p>                                                </div>
                <div class="tags">
                            <h4>Parameters</h4>

                    <table class="table table-condensed">
                    <tr>
                <td><a href="../../Flarum/Notification/Blueprint/BlueprintInterface.html"><abbr title="Flarum\Notification\Blueprint\BlueprintInterface">BlueprintInterface</abbr></a></td>
                <td>$blueprint</td>
                <td></td>
            </tr>
                    <tr>
                <td>array</td>
                <td>$users</td>
                <td></td>
            </tr>
            </table>

            
                            <h4>Return Value</h4>

                    <table class="table table-condensed">
        <tr>
            <td>void</td>
            <td></td>
        </tr>
    </table>

            
            
                    </div>
    </div>

            </div>
                    <div class="method-item">
                    <h3 id="method_delete">
        <div class="location">
                        at         <a href="https://github.com/flarum/core/blob/v0.1.0-beta.15/src/Notification/NotificationSyncer.php#L117" target="_blank">
            line 117
        </a>
        </div>
        <code>                    void
    <strong>delete</strong>(<a href="../../Flarum/Notification/Blueprint/BlueprintInterface.html"><abbr title="Flarum\Notification\Blueprint\BlueprintInterface">BlueprintInterface</abbr></a> $blueprint)
        </code>
    </h3>
    <div class="details">
            
    

                    <div class="method-description">
                                    <p>Delete a notification for all users.</p>                                                </div>
                <div class="tags">
                            <h4>Parameters</h4>

                    <table class="table table-condensed">
                    <tr>
                <td><a href="../../Flarum/Notification/Blueprint/BlueprintInterface.html"><abbr title="Flarum\Notification\Blueprint\BlueprintInterface">BlueprintInterface</abbr></a></td>
                <td>$blueprint</td>
                <td></td>
            </tr>
            </table>

            
                            <h4>Return Value</h4>

                    <table class="table table-condensed">
        <tr>
            <td>void</td>
            <td></td>
        </tr>
    </table>

            
            
                    </div>
    </div>

            </div>
                    <div class="method-item">
                    <h3 id="method_restore">
        <div class="location">
                        at         <a href="https://github.com/flarum/core/blob/v0.1.0-beta.15/src/Notification/NotificationSyncer.php#L128" target="_blank">
            line 128
        </a>
        </div>
        <code>                    void
    <strong>restore</strong>(<a href="../../Flarum/Notification/Blueprint/BlueprintInterface.html"><abbr title="Flarum\Notification\Blueprint\BlueprintInterface">BlueprintInterface</abbr></a> $blueprint)
        </code>
    </h3>
    <div class="details">
            
    

                    <div class="method-description">
                                    <p>Restore a notification for all users.</p>                                                </div>
                <div class="tags">
                            <h4>Parameters</h4>

                    <table class="table table-condensed">
                    <tr>
                <td><a href="../../Flarum/Notification/Blueprint/BlueprintInterface.html"><abbr title="Flarum\Notification\Blueprint\BlueprintInterface">BlueprintInterface</abbr></a></td>
                <td>$blueprint</td>
                <td></td>
            </tr>
            </table>

            
                            <h4>Return Value</h4>

                    <table class="table table-condensed">
        <tr>
            <td>void</td>
            <td></td>
        </tr>
    </table>

            
            
                    </div>
    </div>

            </div>
                    <div class="method-item">
                    <h3 id="method_onePerUser">
        <div class="location">
                        at         <a href="https://github.com/flarum/core/blob/v0.1.0-beta.15/src/Notification/NotificationSyncer.php#L140" target="_blank">
            line 140
        </a>
        </div>
        <code>                    void
    <strong>onePerUser</strong>(callable $callback)
        </code>
    </h3>
    <div class="details">
            
    

                    <div class="method-description">
                                    <p>Limit notifications to one per user for the entire duration of the given
callback.</p>                                                </div>
                <div class="tags">
                            <h4>Parameters</h4>

                    <table class="table table-condensed">
                    <tr>
                <td>callable</td>
                <td>$callback</td>
                <td></td>
            </tr>
            </table>

            
                            <h4>Return Value</h4>

                    <table class="table table-condensed">
        <tr>
            <td>void</td>
            <td></td>
        </tr>
    </table>

            
            
                    </div>
    </div>

            </div>
                    <div class="method-item">
                    <h3 id="method_setDeleted">
        <div class="location">
                        at         <a href="https://github.com/flarum/core/blob/v0.1.0-beta.15/src/Notification/NotificationSyncer.php#L156" target="_blank">
            line 156
        </a>
        </div>
        <code>            protected        
    <strong>setDeleted</strong>(array $ids, bool $isDeleted)
        </code>
    </h3>
    <div class="details">
            
    

                    <div class="method-description">
                                    <p>Set the deleted status of a list of notification records.</p>                                                </div>
                <div class="tags">
                            <h4>Parameters</h4>

                    <table class="table table-condensed">
                    <tr>
                <td>array</td>
                <td>$ids</td>
                <td></td>
            </tr>
                    <tr>
                <td>bool</td>
                <td>$isDeleted</td>
                <td></td>
            </tr>
            </table>

            
            
            
                    </div>
    </div>

            </div>
                    <div class="method-item">
                    <h3 id="method_addNotificationDriver">
        <div class="location">
                        at         <a href="https://github.com/flarum/core/blob/v0.1.0-beta.15/src/Notification/NotificationSyncer.php#L167" target="_blank">
            line 167
        </a>
        </div>
        <code>        static            
    <strong>addNotificationDriver</strong>(string $driverName, <a href="../../Flarum/Notification/Driver/NotificationDriverInterface.html"><abbr title="Flarum\Notification\Driver\NotificationDriverInterface">NotificationDriverInterface</abbr></a> $driver)
        </code>
    </h3>
    <div class="details">
            
    

                    <div class="method-description">
                                    <p>Adds a notification driver to the list.</p>                                                </div>
                <div class="tags">
                            <h4>Parameters</h4>

                    <table class="table table-condensed">
                    <tr>
                <td>string</td>
                <td>$driverName</td>
                <td></td>
            </tr>
                    <tr>
                <td><a href="../../Flarum/Notification/Driver/NotificationDriverInterface.html"><abbr title="Flarum\Notification\Driver\NotificationDriverInterface">NotificationDriverInterface</abbr></a></td>
                <td>$driver</td>
                <td></td>
            </tr>
            </table>

            
            
            
                    </div>
    </div>

            </div>
                    <div class="method-item">
                    <h3 id="method_getNotificationDrivers">
        <div class="location">
                        at         <a href="https://github.com/flarum/core/blob/v0.1.0-beta.15/src/Notification/NotificationSyncer.php#L175" target="_blank">
            line 175
        </a>
        </div>
        <code>        static            array
    <strong>getNotificationDrivers</strong>()
        </code>
    </h3>
    <div class="details">
            
    

                <div class="tags">
            
                            <h4>Return Value</h4>

                    <table class="table table-condensed">
        <tr>
            <td>array</td>
            <td></td>
        </tr>
    </table>

            
            
                    </div>
    </div>

            </div>
            </div>

    
                </div>
                    <div id="footer">
        <p>Generated by <a href="https://github.com/code-lts/doctum">Doctum, a API Documentation generator and fork of Sami</a>.</p>
        <p>Created by <a href="https://github.com/datitisev">@datitisev</a>. Source code can be found on <a href="https://github.com/datitisev/FlarumAPIDocs">GitHub</a>.</p>
    </div>

            </div>
        </div>
    </div>
    </body>

</html>
